import{aw as Le,ax as Me,p as $,r as M,L as j,ao as ue,w as B,ay as N,az as et,aA as ye,aB as te,aC as ne,aD as ge,c as b,D as fe,aE as he,C as V,al as we,aq as ve,aF as Re,aG as tt,aH as Fe,x as de,aI as be,d as R,aJ as nt,s as Y,H as ot,Z as _e,aK as De,q as at,aL as rt,aM as it,e as lt,ac as st,h as ct,g as Ve,y as Ne,i as ut,j as ft,Q as vt,R as dt,ad as mt,am as yt,aN as gt,aO as ht,a as He,b as T,aP as wt,t as Ie,B as bt,v as Et,F as We,ab as St,o as xt,aQ as kt,aR as pt,aS as je,T as Ot,aT as Ct,aU as Pt,aV as At,$ as Ee,a6 as Tt,a1 as oe,a3 as Se,aW as Bt,W as Lt,a9 as xe,aX as Mt,aY as Rt,a0 as Ft,M as _t,aZ as Dt,V as Vt,a_ as ae}from"./index-Cvb3b3yK.js";import{t as ke}from"./http-DqoOZdf6.js";import{g as Nt,B as re,c as pe,n as Ht,m as It,u as Wt,b as $e,a as jt,s as $t,f as qt}from"./forwardRefs-DuiBKCGm.js";import{m as zt,M as Yt}from"./transition-DNtF3pkF.js";import"./_commonjsHelpers-Cpj98o6Y.js";const K=new WeakMap;function Ut(e,t){Object.keys(t).forEach(n=>{if(Le(n)){const a=Me(n),r=K.get(e);if(t[n]==null)r?.forEach(i=>{const[o,l]=i;o===a&&(e.removeEventListener(a,l),r.delete(i))});else if(!r||![...r].some(i=>i[0]===a&&i[1]===t[n])){e.addEventListener(a,t[n]);const i=r||new Set;i.add([a,t[n]]),K.has(e)||K.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Gt(e,t){Object.keys(t).forEach(n=>{if(Le(n)){const a=Me(n),r=K.get(e);r?.forEach(i=>{const[o,l]=i;o===a&&(e.removeEventListener(a,l),r.delete(i))})}else e.removeAttribute(n)})}function qe(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}function Kt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?Xt(e):me(e))return e;e=e.parentElement}return document.scrollingElement}function X(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(me(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function me(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Xt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function Zt(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Qt(){return!0}function ze(e,t,n){if(!e||Ye(e,n)===!1)return!1;const a=qe(t);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(i=>i?.contains(e.target))}function Ye(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Qt)(e)}function Jt(e,t,n){const a=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&ze(e,t,n)&&setTimeout(()=>{Ye(e,n)&&a&&a(e)},0)}function Oe(e,t){const n=qe(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const en={mounted(e,t){const n=r=>Jt(r,e,t),a=r=>{e._clickOutside.lastMousedownWasOutside=ze(r,e,t)};Oe(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:a}},unmounted(e,t){e._clickOutside&&(Oe(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:a,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",a,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function ie(e,t){return{x:e.x+t.x,y:e.y+t.y}}function tn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ce(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:a}=e,r=a==="left"?0:a==="center"?t.width/2:a==="right"?t.width:a,i=n==="top"?0:n==="bottom"?t.height:n;return ie({x:r,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:a}=e,r=n==="left"?0:n==="right"?t.width:n,i=a==="top"?0:a==="center"?t.height/2:a==="bottom"?t.height:a;return ie({x:r,y:i},t)}return ie({x:t.width/2,y:t.height/2},t)}const Ue={static:an,connected:ln},nn=$({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Ue},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function on(e,t){const n=M({}),a=M();j&&ue(()=>!!(t.isActive.value&&e.locationStrategy),i=>{B(()=>e.locationStrategy,i),N(()=>{window.removeEventListener("resize",r),a.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?a.value=e.locationStrategy(t,e,n)?.updateLocation:a.value=Ue[e.locationStrategy](t,e,n)?.updateLocation});function r(i){a.value?.(i)}return{contentStyles:n,updateLocation:a}}function an(){}function rn(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=Ht(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function ln(e,t,n){(Array.isArray(e.target.value)||Zt(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:i}=et(()=>{const v=ye(t.location,e.isRtl.value),u=t.origin==="overlap"?v:t.origin==="auto"?te(v):ye(t.origin,e.isRtl.value);return v.side===u.side&&v.align===ne(u).align?{preferredAnchor:ge(v),preferredOrigin:ge(u)}:{preferredAnchor:v,preferredOrigin:u}}),[o,l,c,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>b(()=>{const u=parseFloat(t[v]);return isNaN(u)?1/0:u})),y=b(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let x=!1;const g=new ResizeObserver(()=>{x&&E()});B([e.target,e.contentEl],(v,u)=>{let[C,P]=v,[S,h]=u;S&&!Array.isArray(S)&&g.unobserve(S),C&&!Array.isArray(C)&&g.observe(C),h&&g.unobserve(h),P&&g.observe(P)},{immediate:!0}),N(()=>{g.disconnect()});function E(){if(x=!1,requestAnimationFrame(()=>x=!0),!e.target.value||!e.contentEl.value)return;const v=Nt(e.target.value),u=rn(e.contentEl.value,e.isRtl.value),C=X(e.contentEl.value),P=12;C.length||(C.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(u.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),u.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const S=C.reduce((k,w)=>{const d=w.getBoundingClientRect(),m=new re({x:w===document.documentElement?0:d.x,y:w===document.documentElement?0:d.y,width:w.clientWidth,height:w.clientHeight});return k?new re({x:Math.max(k.left,m.left),y:Math.max(k.top,m.top),width:Math.min(k.right,m.right)-Math.max(k.left,m.left),height:Math.min(k.bottom,m.bottom)-Math.max(k.top,m.top)}):m},void 0);S.x+=P,S.y+=P,S.width-=P*2,S.height-=P*2;let h={anchor:r.value,origin:i.value};function H(k){const w=new re(u),d=Ce(k.anchor,v),m=Ce(k.origin,w);let{x:_,y:L}=tn(d,m);switch(k.anchor.side){case"top":L-=y.value[0];break;case"bottom":L+=y.value[0];break;case"left":_-=y.value[0];break;case"right":_+=y.value[0];break}switch(k.anchor.align){case"top":L-=y.value[1];break;case"bottom":L+=y.value[1];break;case"left":_-=y.value[1];break;case"right":_+=y.value[1];break}return w.x+=_,w.y+=L,w.width=Math.min(w.width,c.value),w.height=Math.min(w.height,f.value),{overflows:pe(w,S),x:_,y:L}}let F=0,A=0;const s={x:0,y:0},I={x:!1,y:!1};let Q=-1;for(;!(Q++>10);){const{x:k,y:w,overflows:d}=H(h);F+=k,A+=w,u.x+=k,u.y+=w;{const m=he(h.anchor),_=d.x.before||d.x.after,L=d.y.before||d.y.after;let q=!1;if(["x","y"].forEach(O=>{if(O==="x"&&_&&!I.x||O==="y"&&L&&!I.y){const D={anchor:{...h.anchor},origin:{...h.origin}},U=O==="x"?m==="y"?ne:te:m==="y"?te:ne;D.anchor=U(D.anchor),D.origin=U(D.origin);const{overflows:W}=H(D);(W[O].before<=d[O].before&&W[O].after<=d[O].after||W[O].before+W[O].after<(d[O].before+d[O].after)/2)&&(h=D,q=I[O]=!0)}}),q)continue}d.x.before&&(F+=d.x.before,u.x+=d.x.before),d.x.after&&(F-=d.x.after,u.x-=d.x.after),d.y.before&&(A+=d.y.before,u.y+=d.y.before),d.y.after&&(A-=d.y.after,u.y-=d.y.after);{const m=pe(u,S);s.x=S.width-m.x.before-m.x.after,s.y=S.height-m.y.before-m.y.after,F+=m.x.before,u.x+=m.x.before,A+=m.y.before,u.y+=m.y.before}break}const J=he(h.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${h.anchor.side} ${h.anchor.align}`,transformOrigin:`${h.origin.side} ${h.origin.align}`,top:V(le(A)),left:e.isRtl.value?void 0:V(le(F)),right:e.isRtl.value?V(le(-F)):void 0,minWidth:V(J==="y"?Math.min(o.value,v.width):o.value),maxWidth:V(Pe(we(s.x,o.value===1/0?0:o.value,c.value))),maxHeight:V(Pe(we(s.y,l.value===1/0?0:l.value,f.value)))}),{available:s,contentBox:u}}return B(()=>[r.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>E()),fe(()=>{const v=E();if(!v)return;const{available:u,contentBox:C}=v;C.height>u.y&&requestAnimationFrame(()=>{E(),requestAnimationFrame(()=>{E()})})}),{updateLocation:E}}function le(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Pe(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let se=!0;const Z=[];function sn(e){!se||Z.length?(Z.push(e),ce()):(se=!1,e(),ce())}let Ae=-1;function ce(){cancelAnimationFrame(Ae),Ae=requestAnimationFrame(()=>{const e=Z.shift();e&&e(),Z.length?ce():se=!0})}const Ge={none:null,close:fn,block:vn,reposition:dn},cn=$({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Ge}},"VOverlay-scroll-strategies");function un(e,t){if(!j)return;let n;ve(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=Re(),await new Promise(a=>setTimeout(a)),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):Ge[e.scrollStrategy]?.(t,e,n)}))}),N(()=>{n?.stop()})}function fn(e){function t(n){e.isActive.value=!1}Ke(e.targetEl.value??e.contentEl.value,t)}function vn(e,t){const n=e.root.value?.offsetParent,a=[...new Set([...X(e.targetEl.value,t.contained?n:void 0),...X(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,i=(o=>me(o)&&o)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",V(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",V(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",V(r)),o.classList.add("v-overlay-scroll-blocked")}),N(()=>{a.forEach((o,l)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),y=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-f,o.style.scrollBehavior=y}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function dn(e,t,n){let a=!1,r=-1,i=-1;function o(l){sn(()=>{const c=performance.now();e.updateLocation.value?.(l),a=(performance.now()-c)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{n.run(()=>{Ke(e.targetEl.value??e.contentEl.value,l=>{a?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(l)})})):o(l)})})}),N(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(r)})}function Ke(e,t){const n=[document,...X(e)];n.forEach(a=>{a.addEventListener("scroll",t,{passive:!0})}),N(()=>{n.forEach(a=>{a.removeEventListener("scroll",t)})})}const mn=Symbol.for("vuetify:v-menu"),yn=$({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function gn(e,t){let n=()=>{};function a(o){n?.();const l=Number(o?e.openDelay:e.closeDelay);return new Promise(c=>{n=tt(l,()=>{t?.(o),c(o)})})}function r(){return a(!0)}function i(){return a(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:i}}const hn=$({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...yn()},"VOverlay-activator");function wn(e,t){let{isActive:n,isTop:a}=t;const r=Fe("useActivator"),i=M();let o=!1,l=!1,c=!0;const f=b(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),y=b(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!f.value),{runOpenDelay:x,runCloseDelay:g}=gn(e,s=>{s===(e.openOnHover&&o||f.value&&l)&&!(e.openOnHover&&n.value&&!a.value)&&(n.value!==s&&(c=!0),n.value=s)}),E=M(),v={onClick:s=>{s.stopPropagation(),i.value=s.currentTarget||s.target,n.value||(E.value=[s.clientX,s.clientY]),n.value=!n.value},onMouseenter:s=>{s.sourceCapabilities?.firesTouchEvents||(o=!0,i.value=s.currentTarget||s.target,x())},onMouseleave:s=>{o=!1,g()},onFocus:s=>{nt(s.target,":focus-visible")!==!1&&(l=!0,s.stopPropagation(),i.value=s.currentTarget||s.target,x())},onBlur:s=>{l=!1,s.stopPropagation(),g()}},u=b(()=>{const s={};return y.value&&(s.onClick=v.onClick),e.openOnHover&&(s.onMouseenter=v.onMouseenter,s.onMouseleave=v.onMouseleave),f.value&&(s.onFocus=v.onFocus,s.onBlur=v.onBlur),s}),C=b(()=>{const s={};if(e.openOnHover&&(s.onMouseenter=()=>{o=!0,x()},s.onMouseleave=()=>{o=!1,g()}),f.value&&(s.onFocusin=()=>{l=!0,x()},s.onFocusout=()=>{l=!1,g()}),e.closeOnContentClick){const I=de(mn,null);s.onClick=()=>{n.value=!1,I?.closeParents()}}return s}),P=b(()=>{const s={};return e.openOnHover&&(s.onMouseenter=()=>{c&&(o=!0,c=!1,x())},s.onMouseleave=()=>{o=!1,g()}),s});B(a,s=>{s&&(e.openOnHover&&!o&&(!f.value||!l)||f.value&&!l&&(!e.openOnHover||!o))&&(n.value=!1)}),B(n,s=>{s||setTimeout(()=>{E.value=void 0})},{flush:"post"});const S=be();ve(()=>{S.value&&fe(()=>{i.value=S.el})});const h=be(),H=b(()=>e.target==="cursor"&&E.value?E.value:h.value?h.el:Xe(e.target,r)||i.value),F=b(()=>Array.isArray(H.value)?void 0:H.value);let A;return B(()=>!!e.activator,s=>{s&&j?(A=Re(),A.run(()=>{bn(e,r,{activatorEl:i,activatorEvents:u})})):A&&A.stop()},{flush:"post",immediate:!0}),N(()=>{A?.stop()}),{activatorEl:i,activatorRef:S,target:H,targetEl:F,targetRef:h,activatorEvents:u,contentEvents:C,scrimEvents:P}}function bn(e,t,n){let{activatorEl:a,activatorEvents:r}=n;B(()=>e.activator,(c,f)=>{if(f&&c!==f){const y=l(f);y&&o(y)}c&&fe(()=>i())},{immediate:!0}),B(()=>e.activatorProps,()=>{i()}),N(()=>{o()});function i(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&Ut(c,R(r.value,f))}function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&Gt(c,R(r.value,f))}function l(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const f=Xe(c,t);return a.value=f?.nodeType===Node.ELEMENT_NODE?f:void 0,a.value}}function Xe(e,t){if(!e)return;let n;if(e==="parent"){let a=t?.proxy?.$el?.parentNode;for(;a?.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function En(){if(!j)return Y(!1);const{ssr:e}=ot();if(e){const t=Y(!1);return _e(()=>{t.value=!0}),t}else return Y(!0)}const Te=Symbol.for("vuetify:stack"),z=De([]);function Sn(e,t,n){const a=Fe("useStack"),r=!n,i=de(Te,void 0),o=De({activeChildren:new Set});at(Te,o);const l=Y(+t.value);ue(e,()=>{const y=z.at(-1)?.[1];l.value=y?y+10:+t.value,r&&z.push([a.uid,l.value]),i?.activeChildren.add(a.uid),N(()=>{if(r){const x=rt(z).findIndex(g=>g[0]===a.uid);z.splice(x,1)}i?.activeChildren.delete(a.uid)})});const c=Y(!0);r&&ve(()=>{const y=z.at(-1)?.[0]===a.uid;setTimeout(()=>c.value=y)});const f=b(()=>!o.activeChildren.size);return{globalTop:it(c),localTop:f,stackStyles:b(()=>({zIndex:l.value}))}}function xn(e){return{teleportTarget:b(()=>{const n=e.value;if(n===!0||!j)return;const a=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(a==null)return;let r=a.querySelector(":scope > .v-overlay-container");return r||(r=document.createElement("div"),r.className="v-overlay-container",a.appendChild(r)),r})}}function kn(e){const{modelValue:t,color:n,...a}=e;return T(St,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&T("div",R({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const Ze=$({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...hn(),...lt(),...st(),...It(),...nn(),...cn(),...ct(),...zt()},"VOverlay"),Be=Ve()({name:"VOverlay",directives:{ClickOutside:en},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ze()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:a,emit:r}=t;const i=Ne(e,"modelValue"),o=b({get:()=>i.value,set:p=>{p&&e.disabled||(i.value=p)}}),{teleportTarget:l}=xn(b(()=>e.attach||e.contained)),{themeClasses:c}=ut(e),{rtlClasses:f,isRtl:y}=ft(),{hasContent:x,onAfterLeave:g}=Wt(e,o),E=vt(b(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:u,stackStyles:C}=Sn(o,dt(e,"zIndex"),e._disableGlobalStack),{activatorEl:P,activatorRef:S,target:h,targetEl:H,targetRef:F,activatorEvents:A,contentEvents:s,scrimEvents:I}=wn(e,{isActive:o,isTop:u}),{dimensionStyles:Q}=mt(e),J=En(),{scopeId:k}=$e();B(()=>e.disabled,p=>{p&&(o.value=!1)});const w=M(),d=M(),m=M(),{contentStyles:_,updateLocation:L}=on(e,{isRtl:y,contentEl:m,target:h,isActive:o});un(e,{root:w,contentEl:m,targetEl:H,isActive:o,updateLocation:L});function q(p){r("click:outside",p),e.persistent?G():o.value=!1}function O(p){return o.value&&v.value&&(!e.scrim||p.target===d.value)}j&&B(o,p=>{p?window.addEventListener("keydown",D):window.removeEventListener("keydown",D)},{immediate:!0}),yt(()=>{j&&window.removeEventListener("keydown",D)});function D(p){p.key==="Escape"&&v.value&&(e.persistent?G():(o.value=!1,m.value?.contains(document.activeElement)&&P.value?.focus()))}const U=gt();ue(()=>e.closeOnBack,()=>{ht(U,p=>{v.value&&o.value?(p(!1),e.persistent?G():o.value=!1):p()})});const W=M();B(()=>o.value&&(e.absolute||e.contained)&&l.value==null,p=>{if(p){const ee=Kt(w.value);ee&&ee!==document.scrollingElement&&(W.value=ee.scrollTop)}});function G(){e.noClickAnimation||m.value&&jt(m.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:$t})}function Qe(){r("afterEnter")}function Je(){g(),r("afterLeave")}return He(()=>T(We,null,[n.activator?.({isActive:o.value,targetRef:F,props:R({ref:S},A.value,e.activatorProps)}),J.value&&x.value&&T(wt,{disabled:!l.value,to:l.value},{default:()=>[T("div",R({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},c.value,f.value,e.class],style:[C.value,{"--v-overlay-opacity":e.opacity,top:V(W.value)},e.style],ref:w},k,a),[T(kn,R({color:E,modelValue:o.value&&!!e.scrim,ref:d},I.value),null),T(Yt,{appear:!0,persisted:!0,transition:e.transition,target:h.value,onAfterEnter:Qe,onAfterLeave:Je},{default:()=>[Ie(T("div",R({ref:m,class:["v-overlay__content",e.contentClass],style:[Q.value,_.value]},s.value,e.contentProps),[n.default?.({isActive:o})]),[[bt,o.value],[Et("click-outside"),{handler:q,closeConditional:O,include:()=>[P.value]}]])]})])]})])),{activatorEl:P,scrimEl:d,target:h,animateClick:G,contentEl:m,globalTop:v,localTop:u,updateLocation:L}}}),pn=$({id:String,text:String,...xt(Ze({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),On=Ve()({name:"VTooltip",props:pn(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Ne(e,"modelValue"),{scopeId:r}=$e(),i=kt(),o=b(()=>e.id||`v-tooltip-${i}`),l=M(),c=b(()=>e.location.split(" ").length>1?e.location:e.location+" center"),f=b(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),y=b(()=>e.transition?e.transition:a.value?"scale-transition":"fade-transition"),x=b(()=>R({"aria-describedby":o.value},e.activatorProps));return He(()=>{const g=Be.filterProps(e);return T(Be,R({ref:l,class:["v-tooltip",e.class],style:e.style,id:o.value},g,{modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,transition:y.value,absolute:!0,location:c.value,origin:f.value,persistent:!0,role:"tooltip",activatorProps:x.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){for(var E=arguments.length,v=new Array(E),u=0;u<E;u++)v[u]=arguments[u];return n.default?.(...v)??e.text}})}),qt({},l)}});function Cn(e,t){const n=typeof e=="string"?pt(e):e,a=Pn(n,t);return{mounted:a,updated:a,unmounted(r){je(null,r)}}}function Pn(e,t){return function(n,a,r){const i=typeof t=="function"?t(a):t,o=a.value?.text??a.value??i?.text,l=Ot(a.value)?a.value:{},c=()=>o??n.innerHTML,f=(r.ctx===a.instance.$?An(r,a.instance.$)?.provides:r.ctx?.provides)??a.instance.$.provides,y=Ct(e,R(i,l),c);y.appContext=Object.assign(Object.create(null),a.instance.$.appContext,{provides:f}),je(y,n)}}function An(e,t){const n=new Set,a=i=>{for(const o of i){if(!o)continue;if(o===e)return!0;n.add(o);let l;if(o.suspense?l=a([o.ssContent]):Array.isArray(o.children)?l=a(o.children):o.component?.vnode&&(l=a([o.component?.subTree])),l)return l;n.delete(o)}return!1};if(!a([t.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const i of r)if(i.component)return i.component;return t}const Tn=Cn(On,e=>({activator:"parent",location:e.arg?.replace("-"," ")??"top",text:typeof e.value=="boolean"?void 0:e.value})),Bn={class:"flex rounded-lg border border-gray-300 dark:border-gray-600",style:{margin:"2px"}},Ln=["value"],Vn={__name:"EodashDatePicker",setup(e){function t(){if(r.value&&r.value.length>0){let o=0;r.value.forEach(l=>{l?.dates&&l.dates.forEach(c=>{c instanceof Date&&c.getTime()>o&&(o=c.getTime())})}),o!==0&&(i.value=new Date(o))}}const n=de(Lt),a=M({input:"YYYY-MM-DD"}),r=M([]),i=b({get(){return new Date(ae.value)??new Date},set(o){o instanceof Date&&!isNaN(o)?ae.value=new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString():ae.value=new Date().toISOString()}});return _e(()=>{const{selectedStac:o}=Pt(At());B([o],async([l])=>{if(l){const c=ke(`./${l.id}/collection.json`,n.stacEndpoint),f=ke(l.links[1].href,c),x=(await(await fetch(f)).json()).links.filter(g=>g.rel==="item"&&"datetime"in g).map(g=>new Date(g.datetime));r.value=[{bar:!0,dates:x}]}},{immediate:!0})}),(o,l)=>(Ee(),Tt(We,null,[T(Se(Rt),{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=c=>i.value=c),masks:a.value,attributes:r.value},{default:oe(({inputValue:c,inputEvents:f})=>[xe("div",Bn,[xe("input",R({value:c},Mt(f,!0),{style:{margin:"1px"},class:"flex-grow px-1 py-1 bg-white dark:bg-gray-700"}),null,16,Ln)])]),_:1},8,["modelValue","masks","attributes"]),T(Bt,{align:"center",justify:"center",style:{"margin-top":"6px"}},{default:oe(()=>[Ie((Ee(),Ft(Vt,{density:"compact",onClick:t},{default:oe(()=>[T(_t,{icon:[Se(Dt)]},null,8,["icon"])]),_:1})),[[Tn,"Set date to latest available dataset","bottom"]])]),_:1})],64))}};export{Vn as default};
